<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFO — Ambient Flow Orchestrator</title>
    <link rel="icon" type="image/png" href="/icon.png">
    <link rel="favicon" href="/icon.ico">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
    <div class="app">
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <img src="/icon.png" alt="AFO">
                </div>
                <span class="logo-text">AFO</span>
            </div>
            
            <nav class="nav">
                <a href="#" class="nav-item active" data-page="dashboard">
                    <i class="bi bi-grid-1x2"></i>
                    <span>Обзор</span>
                </a>
                <a href="#" class="nav-item" data-page="sounds">
                    <i class="bi bi-music-note-beamed"></i>
                    <span>Звуки</span>
                </a>
                <a href="#" class="nav-item" data-page="stats">
                    <i class="bi bi-bar-chart"></i>
                    <span>Статистика</span>
                </a>
                <a href="#" class="nav-item" data-page="settings">
                    <i class="bi bi-gear"></i>
                    <span>Настройки</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="status-indicator" id="connectionStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">Подключено</span>
                </div>
            </div>
        </aside>
        
        <main class="content">
            <!-- Dashboard -->
            <section class="page active" id="page-dashboard">
                <header class="page-header">
                    <h1>Обзор</h1>
                    <div class="header-actions">
                        <button class="btn btn-secondary" id="btnBreak">
                            <i class="bi bi-cup-hot"></i>
                            Перерыв
                        </button>
                    </div>
                </header>
                
                <div class="dashboard-grid">
                    <div class="card card-mode">
                        <div class="card-header">
                            <h3>Текущий режим</h3>
                            <div class="mode-auto">
                                <label class="toggle">
                                    <input type="checkbox" id="autoMode" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span>Авто</span>
                            </div>
                        </div>
                        <div class="mode-display">
                            <div class="mode-icon" id="modeIcon">
                                <i class="bi bi-layers"></i>
                            </div>
                            <div class="mode-info">
                                <span class="mode-name" id="modeName">Анализ...</span>
                                <span class="mode-desc" id="modeDesc">Определение активности</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card card-activity">
                        <div class="card-header">
                            <h3>Активность</h3>
                        </div>
                        <div class="activity-info">
                            <div class="activity-app">
                                <span class="label">Приложение</span>
                                <span class="value" id="currentApp">—</span>
                            </div>
                            <div class="activity-level">
                                <span class="label">Уровень</span>
                                <div class="level-bar">
                                    <div class="level-fill" id="activityLevel"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card card-session">
                        <div class="card-header">
                            <h3>Рабочая сессия</h3>
                        </div>
                        <div class="session-info">
                            <div class="session-time" id="sessionTime">0:00</div>
                            <div class="session-progress">
                                <div class="progress-ring">
                                    <svg viewBox="0 0 100 100">
                                        <circle class="progress-bg" cx="50" cy="50" r="45"/>
                                        <circle class="progress-fill" id="sessionProgress" cx="50" cy="50" r="45"/>
                                    </svg>
                                </div>
                            </div>
                            <span class="session-label">до перерыва</span>
                        </div>
                    </div>
                    
                    <div class="card card-environment">
                        <div class="card-header">
                            <h3>Окружение</h3>
                        </div>
                        <div class="environment-grid">
                            <div class="env-item" id="envSound">
                                <i class="bi bi-volume-up"></i>
                                <span>Звук выкл.</span>
                            </div>
                            <div class="env-item" id="envNight">
                                <i class="bi bi-moon"></i>
                                <span>Ночной выкл.</span>
                            </div>
                            <div class="env-item" id="envFocus">
                                <i class="bi bi-bullseye"></i>
                                <span>Фокус выкл.</span>
                            </div>
                            <div class="env-item" id="envNotif">
                                <i class="bi bi-bell"></i>
                                <span>Уведомления</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card card-recommendations">
                        <div class="card-header">
                            <h3>Рекомендации</h3>
                        </div>
                        <ul class="recommendations-list" id="recommendationsList">
                            <li class="empty">Нет рекомендаций</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- Sounds -->
            <section class="page" id="page-sounds">
                <header class="page-header">
                    <h1>Фоновые звуки</h1>
                </header>
                
                <div class="sounds-grid">
                    <button class="sound-card" data-sound="none">
                        <div class="sound-icon">
                            <i class="bi bi-volume-mute"></i>
                        </div>
                        <span class="sound-name">Тишина</span>
                    </button>
                    
                    <button class="sound-card" data-sound="rain">
                        <div class="sound-icon">
                            <i class="bi bi-cloud-rain"></i>
                        </div>
                        <span class="sound-name">Дождь</span>
                    </button>
                    
                    <button class="sound-card" data-sound="forest">
                        <div class="sound-icon">
                            <i class="bi bi-tree"></i>
                        </div>
                        <span class="sound-name">Лес</span>
                    </button>
                    
                    <button class="sound-card" data-sound="cafe">
                        <div class="sound-icon">
                            <i class="bi bi-cup-hot"></i>
                        </div>
                        <span class="sound-name">Кафе</span>
                    </button>
                    
                    <button class="sound-card" data-sound="ocean">
                        <div class="sound-icon">
                            <i class="bi bi-water"></i>
                        </div>
                        <span class="sound-name">Океан</span>
                    </button>
                    
                    <button class="sound-card" data-sound="fire">
                        <div class="sound-icon">
                            <i class="bi bi-fire"></i>
                        </div>
                        <span class="sound-name">Камин</span>
                    </button>
                    
                    <button class="sound-card" data-sound="white_noise">
                        <div class="sound-icon">
                            <i class="bi bi-soundwave"></i>
                        </div>
                        <span class="sound-name">Белый шум</span>
                    </button>
                </div>
                
                <div class="volume-control">
                    <label>Громкость</label>
                    <input type="range" id="volumeSlider" min="0" max="100" value="30">
                    <span id="volumeValue">30%</span>
                </div>
            </section>
            
            <!-- Stats -->
            <section class="page" id="page-stats">
                <header class="page-header">
                    <h1>Статистика</h1>
                </header>
                
                <div class="stats-summary">
                    <div class="stat-card">
                        <div class="stat-value" id="workTimeTotal">0ч 0м</div>
                        <div class="stat-label">Рабочее время</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="entertainmentTime">0ч 0м</div>
                        <div class="stat-label">Развлечения</div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Приложения сегодня</h3>
                    </div>
                    <div class="apps-list" id="appsList">
                        <div class="empty">Нет данных</div>
                    </div>
                </div>
            </section>
            
            <!-- Settings -->
            <section class="page" id="page-settings">
                <header class="page-header">
                    <h1>Настройки</h1>
                </header>
                
                <div class="settings-sections">
                    <div class="settings-section">
                        <h3>Звуки</h3>
                        <div class="setting-row">
                            <div class="setting-info">
                                <span class="setting-label">Автоматические звуки</span>
                                <span class="setting-desc">Включать фоновые звуки в зависимости от режима</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="settingSoundEnabled" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Дисплей</h3>
                        <div class="setting-row">
                            <div class="setting-info">
                                <span class="setting-label">Ночной режим</span>
                                <span class="setting-desc">Тёплые тона экрана вечером и ночью</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="settingNightMode" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-row">
                            <div class="setting-info">
                                <span class="setting-label">Цветовая температура</span>
                                <span class="setting-desc">Теплота экрана в ночном режиме</span>
                            </div>
                            <input type="range" id="settingColorTemp" min="2700" max="5500" value="4500">
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Перерывы</h3>
                        <div class="setting-row">
                            <div class="setting-info">
                                <span class="setting-label">Напоминания о перерывах</span>
                                <span class="setting-desc">Предлагать отдых после длительной работы</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="settingBreaksEnabled" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-row">
                            <div class="setting-info">
                                <span class="setting-label">Интервал работы</span>
                                <span class="setting-desc">Время до напоминания о перерыве</span>
                            </div>
                            <select id="settingWorkDuration">
                                <option value="25">25 минут</option>
                                <option value="45">45 минут</option>
                                <option value="50" selected>50 минут</option>
                                <option value="90">90 минут</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Уведомления</h3>
                        <div class="setting-row">
                            <div class="setting-info">
                                <span class="setting-label">Фильтрация во время работы</span>
                                <span class="setting-desc">Включать режим фокуса при глубокой работе</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="settingNotifFilter" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Напоминания о здоровье</h3>
                        <div class="setting-row">
                            <div class="setting-info">
                                <span class="setting-label">Включить напоминания</span>
                                <span class="setting-desc">Вода, разминка, отдых для глаз</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="settingRemindersEnabled" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-row">
                            <div class="setting-info">
                                <span class="setting-label">Пауза при бездействии</span>
                                <span class="setting-desc">Не показывать когда нет активности</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="settingRemindersPauseIdle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <!-- Вода -->
                        <div class="reminder-setting" data-reminder="water">
                            <div class="reminder-header">
                                <i class="bi bi-droplet"></i>
                                <span>Вода</span>
                                <label class="toggle toggle-small">
                                    <input type="checkbox" class="reminder-toggle" data-id="water" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="reminder-interval">
                                <label>Интервал:</label>
                                <select class="reminder-interval-select" data-id="water">
                                    <option value="15">15 мин</option>
                                    <option value="30" selected>30 мин</option>
                                    <option value="45">45 мин</option>
                                    <option value="60">1 час</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Разминка -->
                        <div class="reminder-setting" data-reminder="stretch">
                            <div class="reminder-header">
                                <i class="bi bi-person-arms-up"></i>
                                <span>Разминка</span>
                                <label class="toggle toggle-small">
                                    <input type="checkbox" class="reminder-toggle" data-id="stretch" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="reminder-interval">
                                <label>Интервал:</label>
                                <select class="reminder-interval-select" data-id="stretch">
                                    <option value="30">30 мин</option>
                                    <option value="45" selected>45 мин</option>
                                    <option value="60">1 час</option>
                                    <option value="90">1.5 часа</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Глаза -->
                        <div class="reminder-setting" data-reminder="eyes">
                            <div class="reminder-header">
                                <i class="bi bi-eye"></i>
                                <span>Отдых для глаз</span>
                                <label class="toggle toggle-small">
                                    <input type="checkbox" class="reminder-toggle" data-id="eyes">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="reminder-interval">
                                <label>Интервал:</label>
                                <select class="reminder-interval-select" data-id="eyes">
                                    <option value="20" selected>20 мин</option>
                                    <option value="30">30 мин</option>
                                    <option value="45">45 мин</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Система</h3>
                        <div class="setting-row" id="autostartRow">
                            <div class="setting-info">
                                <span class="setting-label">Автозапуск</span>
                                <span class="setting-desc" id="autostartDesc">Запускать AFO при старте Windows</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="settingAutostart">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Break Overlay -->
    <div class="break-overlay" id="breakOverlay">
        <div class="break-content">
            <div class="break-icon">
                <i class="bi bi-cup-hot"></i>
            </div>
            <h1 class="break-title">Время отдохнуть</h1>
            <div class="break-timer" id="breakTimer">10:00</div>
            <p class="break-hint">Нажмите <kbd>Esc</kbd> или <kbd>Пробел</kbd> чтобы вернуться</p>
        </div>
        <div class="break-progress" id="breakProgress"></div>
    </div>
    
    <!-- Контейнер для напоминаний (toast) -->
    <div class="toast-container" id="toastContainer"></div>
    
    <script src="app.js"></script>
</body>
</html>
